<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Playzone מכונת מזל</title>
    <!-- Google Fonts - Assistant for Hebrew -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="slot-machine">
        <div class="reel-container">
            <div class="reel" id="reel1">
                <div class="symbol">🍒</div>
                <div class="symbol">🍋</div>
                <div class="symbol">🍊</div>
                <div class="symbol">🍉</div>
                <div class="symbol">🍇</div>
                <div class="symbol">⭐</div>
                <div class="symbol">💎</div>
                <div class="symbol">7️⃣</div>
            </div>
        </div>
        
        <div class="reel-container">
            <div class="reel" id="reel2">
                <div class="symbol">🍒</div>
                <div class="symbol">🍋</div>
                <div class="symbol">🍊</div>
                <div class="symbol">🍉</div>
                <div class="symbol">🍇</div>
                <div class="symbol">⭐</div>
                <div class="symbol">💎</div>
                <div class="symbol">7️⃣</div>
            </div>
        </div>
        
        <div class="reel-container">
            <div class="reel" id="reel3">
                <div class="symbol">🍒</div>
                <div class="symbol">🍋</div>
                <div class="symbol">🍊</div>
                <div class="symbol">🍉</div>
                <div class="symbol">🍇</div>
                <div class="symbol">⭐</div>
                <div class="symbol">💎</div>
                <div class="symbol">7️⃣</div>
            </div>
        </div>
    </div>

    <div id="win-overlay" class="hidden"></div>

    <!-- Scrolling Text Banner -->
    <div id="scrolling-banner" class="scrolling-banner hidden">
        <div class="scrolling-text" id="scrolling-text"></div>
    </div>

    <div id="qr-popup" class="hidden">
        <div class="qr-content">
            <h2>🎉 מזל טוב! זכית! 🎉</h2>
            <div id="qr-code-container"></div>

            <div class="qr-instructions-container">
                <p class="qr-main-title">השלבים הבאים:</p>
                <div class="qr-steps-horizontal">
                    <div class="qr-step">
                        <div class="step-number">1</div>
                        <p>סרקו את הקוד לשליחת מסך הזכייה בוואטסאפ</p>
                    </div>
                    <div class="qr-arrow">→</div>
                    <div class="qr-step">
                        <div class="step-number">2</div>
                        <p>לחצו כאן על המסך או על הבאזר לחזרה אל מסך הזכייה</p>
                    </div>
                    <div class="qr-arrow">→</div>
                    <div class="qr-step">
                        <div class="step-number">3</div>
                        <p>צלמו סלפי שלכם עם מסך הזכייה</p>
                    </div>
                    <div class="qr-arrow">→</div>
                    <div class="qr-step">
                        <div class="step-number">4</div>
                        <p>שלחו לנו את התמונה</p>
                    </div>
                </div>

                <div class="qr-custom-message" id="qr-custom-message">
                    <p>אל תשכחו! כדי לקבל את הפרס אתם צריכים לשלוח לנו תמונה שלכם עם מסך הזכייה בוואטסאפ 📸</p>
                </div>
            </div>

            <p class="qr-continue">👆 לחצו כדי לחזור למסך הזכייה ולצלם 📸</p>

            <!-- Powered by Playzone -->
            <div class="qr-powered-by">
                <span>Powered by</span>
                <a href="https://playzone.co.il" target="_blank" rel="noopener">Playzone</a>
            </div>
        </div>
    </div>

    <div id="settings-screen" class="hidden">
        <button id="close-settings-x" class="close-settings-x">✕</button>
        <div class="settings-content">
            <h2>הגדרות</h2>
            
            <!-- שורה 1: סוג משחק + צבע רקע -->
            <div class="settings-row">
                <div class="setting-group half">
                    <h3>סוג המשחק</h3>
                    <label>
                        <input type="radio" name="game-mode" value="automatic" checked>
                        <span>רגיל (אוטומטי)</span>
                    </label>
                    <label>
                        <input type="radio" name="game-mode" value="manual">
                        <span>ידני</span>
                    </label>
                </div>

                <div class="setting-group half">
                    <h3>צבע רקע </h3>
                    <div class="color-picker-container">
                        <label for="background-color-picker" class="color-picker-label">
                            <div class="color-preview" id="color-preview"></div>
                            <span>בחר צבע</span>
                        </label>
                        <input type="color" id="background-color-picker" value="#1a1a2e" hidden>
                        <input type="text" id="background-color-input" placeholder="#1a1a2e" maxlength="7">
                        <button id="reset-background-color" class="small-btn">איפוס</button>
                    </div>
                </div>
            </div>

            <div class="settings-divider"></div>

            <!-- שורה 2: צלילים -->
            <div class="setting-group">
                <h3>צלילים</h3>

                <label class="checkbox-label">
                    <input type="checkbox" id="sound-enabled" checked>
                    <span>הפעל צלילים</span>
                </label>

                <div class="sound-uploads-grid">
                    <div class="sound-upload-item">
                        <label class="sound-label">צליל סיבוב</label>
                        <div class="sound-input-row">
                            <input type="file" id="sound-spin" accept="audio/*">
                            <button class="reset-sound" data-sound="spin">🔄</button>
                        </div>
                    </div>

                    <div class="sound-upload-item">
                        <label class="sound-label">צליל זכייה</label>
                        <div class="sound-input-row">
                            <input type="file" id="sound-win" accept="audio/*">
                            <button class="reset-sound" data-sound="win">🔄</button>
                        </div>
                    </div>

                    <div class="sound-upload-item">
                        <label class="sound-label">צליל הפסד</label>
                        <div class="sound-input-row">
                            <input type="file" id="sound-lose" accept="audio/*">
                            <button class="reset-sound" data-sound="lose">🔄</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="settings-divider"></div>

            <!-- שורה 3: תדירות זכיות + מצב זכייה מובטחת -->
            <div class="settings-row">
                <div class="setting-group half">
                    <h3>תדירות זכיות</h3>
                    <p class="setting-description">כל כמה סיבובים (0 = רנדומלי)</p>
                    <div class="slider-container">
                        <input type="range" id="win-frequency" min="0" max="20" value="3" step="1">
                        <span id="win-frequency-value">3</span>
                    </div>
                    <p class="setting-note">זכייה כל <span id="win-frequency-text">3</span> נסיונות</p>
                </div>

                <div class="setting-group half">
                    <h3>מצב זכייה מובטחת</h3>
                    <label class="checkbox-label">
                        <input type="checkbox" id="guaranteed-win-mode">
                        <span>הפעל זכייה בכל סיבוב</span>
                    </label>
                    <p class="setting-description">זכייה תמיד, הפרס לפי המלאי</p>
                </div>
            </div>

            <div class="settings-divider"></div>

            <!-- שורה: WhatsApp + טקסט QR -->
            <div class="settings-row">
                <div class="setting-group third">
                    <h3>הודעת WhatsApp בזכייה</h3>
                    <p class="setting-description">הזן מספר (עם קידומת: 972501234567)</p>
                    <div class="whatsapp-input-container">
                        <input type="text" id="whatsapp-number" placeholder="972501234567" maxlength="20">
                        <button id="clear-whatsapp" class="small-btn">נקה</button>
                    </div>
                </div>

                <div class="setting-group two-thirds">
                    <h3>טקסט מותאם במסך QR</h3>
                    <p class="setting-description">טקסט מתחת לשלבים במסך זכייה</p>
                    <div class="custom-text-container">
                        <textarea id="qr-custom-text" placeholder="אל תשכחו! כדי לקבל את הפרס אתם צריכים לשלוח לנו תמונה שלכם עם מסך הזכייה בוואטסאפ 📸" rows="3" maxlength="200"></textarea>
                        <button id="clear-custom-text" class="small-btn">נקה</button>
                    </div>
                </div>
            </div>

            <div class="setting-group">
                <h3>טקסט נגלל במסך הראשי</h3>
                <p class="setting-description">טקסט שיופיע בפס שחור מתגלגל למטה (השאר ריק כדי להסתיר)</p>
                <div class="custom-text-container">
                    <textarea id="scrolling-banner-text" placeholder="🎰 ברוכים הבאים למכונת המזל! בהצלחה! 🎰" rows="3" maxlength="300"></textarea>
                    <button id="clear-scrolling-text" class="small-btn">נקה</button>
                </div>
                <div class="font-size-control">
                    <label for="banner-font-size">גודל גופן:</label>
                    <div class="slider-container">
                        <input type="range" id="banner-font-size" min="16" max="64" value="32" step="2">
                        <span id="banner-font-size-value">32</span>
                        <span style="font-size: 0.9em; color: #ccc;">px</span>
                    </div>
                </div>
            </div>

            <div class="settings-divider"></div>

            <div class="setting-group">
                <h3>תמונות מותאמות אישית ומלאי פרסים</h3>
                <p class="setting-description">לחץ או גרור תמונה לתיבה ורשום את כמות המלאי לכל פרס</p>
                <div class="image-upload-grid">
                    <div class="image-upload-item">
                        <label for="image1">
                            <div class="image-preview" id="preview1">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image1" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory1">מלאי:</label>
                            <input type="number" id="inventory1" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="0">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter1">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image2">
                            <div class="image-preview" id="preview2">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image2" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory2">מלאי:</label>
                            <input type="number" id="inventory2" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="1">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter2">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image3">
                            <div class="image-preview" id="preview3">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image3" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory3">מלאי:</label>
                            <input type="number" id="inventory3" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="2">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter3">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image4">
                            <div class="image-preview" id="preview4">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image4" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory4">מלאי:</label>
                            <input type="number" id="inventory4" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="3">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter4">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image5">
                            <div class="image-preview" id="preview5">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image5" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory5">מלאי:</label>
                            <input type="number" id="inventory5" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="4">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter5">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image6">
                            <div class="image-preview" id="preview6">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image6" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory6">מלאי:</label>
                            <input type="number" id="inventory6" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="5">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter6">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image7">
                            <div class="image-preview" id="preview7">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image7" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory7">מלאי:</label>
                            <input type="number" id="inventory7" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="6">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter7">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image8">
                            <div class="image-preview" id="preview8">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image8" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory8">מלאי:</label>
                            <input type="number" id="inventory8" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="7">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter8">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                    <div class="image-upload-item">
                        <label for="image9">
                            <div class="image-preview" id="preview9">
                                <span class="preview-icon">📷</span>
                                <span class="preview-text">הוסף תמונה</span>
                            </div>
                            <input type="file" id="image9" accept="image/*" hidden>
                        </label>
                        <div class="inventory-input-wrapper">
                            <label for="inventory9">מלאי:</label>
                            <input type="number" id="inventory9" min="0" value="0" class="inventory-input">
                            <button class="reset-inventory-btn" data-index="8">איפוס</button>
                        </div>
                        <div class="inventory-counter" id="counter9">
                            <span class="distributed">0</span> / <span class="total">0</span>
                        </div>
                    </div>
                </div>
                <button id="reset-images" class="reset-images-btn">איפוס לסמלים ברירת מחדל</button>
            </div>

            <div class="settings-sticky-footer">
                <button id="save-settings" class="save-btn-single">שמור</button>

                <!-- Powered by Playzone -->
                <div class="footer-powered-by">
                    <span>Powered by</span>
                    <a href="https://playzone.co.il" target="_blank" rel="noopener">Playzone</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Tutorial Modal -->
    <div id="tutorial-modal" class="tutorial-overlay">
        <div class="tutorial-content">
            <h2>🎰 ברוכים הבאים למכונת המזל 777!</h2>
            <div class="tutorial-section">
                <h3>איך לשחק?</h3>
                <ul>
                    <li>🖱️ <strong>געו במסך עם היד או עם העכבר</strong> לסובב את הגלגל</li>
                    <li>🎰 <strong>לחצו על הבאזר</strong> לסובב את הגלגל</li>
                 </ul>
            </div>
            <div class="tutorial-section">
                <h3>הגדרות</h3>
                <ul>
                    <li>⚙️ <strong>להגדרות לחצו על האות S במקלדת</strong> או על כפתור ההגדרות שבצד הבאזר</li>
                    <li>🎯 <strong>תדירות זכיות</strong> - קבעו כל כמה סיבובים תזכו</li>
                    <li>🖼️ <strong>תמונות מותאמות</strong> - העלו תמונות משלכם</li>
                    <li>🎮 <strong>מצב משחק</strong> - אוטומטי או ידני</li>
                    <li>🔊 <strong>צלילים</strong> - הפעילו או כבו צלילים</li>
                </ul>
            </div>

            <div class="tutorial-buttons">
                <button id="tutorial-close">בואו נתחיל!</button>
                <button id="tutorial-settings">הגדרות</button>
            </div>

            <!-- Powered by Playzone -->
            <div class="tutorial-powered-by">
                <span>Powered by</span>
                <a href="https://playzone.co.il" target="_blank" rel="noopener">Playzone</a>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

