# 🎰 מדריך משתמש - מכונת מזל 777 | Playzone

> מערכת מתקדמת למכונת מזל עם ניהול אירועים, שליטה מרחוק ופרסים דינמיים

---

## 📋 תוכן עניינים
- [יכולות עיקריות](#יכולות-עיקריות)
- [משחק ראשי](#משחק-ראשי)
- [דשבורד ניהול](#דשבורד-ניהול)
- [שליטה מרחוק](#שליטה-מרחוק)
- [לוח זוכים](#לוח-זוכים)
- [שימוש מהיר](#שימוש-מהיר)

---

## 🌟 יכולות עיקריות

### ✅ משחק
- מכונת מזל 3 גלגלים עם 8 סמלים
- משחק אוטומטי או שליטה מרחוק
- תדירות זכיות ניתנת לשליטה (0-20 סיבובים)
- בונוס רנדומלי נוסף (0-50%)

### ✅ פרסים דינמיים
- 2-20 תמונות פרסים מותאמות אישית
- מלאי מוגבל או בלתי מוגבל
- מעקב אחר חלוקת פרסים
- קודים ייחודיים (PRIZE_001, PRIZE_002...)

### ✅ עיצוב מותאם אישית
- בחירת צבע רקע חופשית
- 3 צלילים מותאמים (סיבוב, זכייה, הפסד)
- טקסט נגלל עם גודל גופן משתנה (16-64px)
- מסכי זכייה/הפסד מעוצבים

### ✅ שליטה מרחוק
- QR Code להתחברות שחקנים
- תור המתנה אוטומטי
- טיימר 30 שניות לכל שחקן
- Pull Bar אינטראקטיבי (גרירה ושחרור)

### ✅ ניהול אירועים
- יצירת אירועים בלתי מוגבל
- פרסים ייחודיים לכל אירוע
- מעקב זוכים נפרד לכל אירוע
- סטטיסטיקות מפורטות

### ✅ Firebase + Cloud
- עדכונים בזמן אמת
- גיבוי אוטומטי של נתונים
- ניהול משתמשים עם Google Sign-In
- סנכרון בין מכשירים

---

## 🎮 משחק ראשי (index.html)

### הגדרות בסיסיות
| הגדרה | אפשרויות | תיאור |
|-------|----------|--------|
| **סוג משחק** | רגיל / ידני | רגיל = לחיצה במסך, ידני = שלט מרחוק |
| **צבע רקע** | Color Picker | בחירת צבע רקע חופשית |
| **צלילים** | ON/OFF | הפעלה/כיבוי + העלאת קבצים |
| **תדירות זכיות** | 0-20 | 0=רנדומלי, 1=כל סיבוב, 20=אחת ל-20 |
| **בונוס רנדומלי** | 0-50% | סיכוי נוסף לזכייה |
| **מספר ניסיונות** | 1-10 | מספר סיבובים לכל שחקן |

### ניהול פרסים
- **מלאי מוגבל**: הגדר מספר קבוע (מוצג מונה)
- **מלאי בלתי מוגבל**: סמן ♾️ (ללא הגבלה)
- **שמות פרסים**: שם מותאם לכל פרס
- **תמונות**: 2-20 תמונות (JPG/PNG/GIF)
- **איפוס מונה**: אפס את מספר הפרסים שחולקו

### מסכי זכייה
**מסך פשוט** (ללא WhatsApp):
- שם השחקן באותיות ירוקות גדולות
- Congratulations!
- תמונת הפרס + שם
- טקסט הערות מותאם

**מסך עם QR WhatsApp** (כשיש מספר):
- QR Code לשליחת תמונה בוואטסאפ
- 3 שלבים מוגדרים (סרקו → צלמו → שלחו)
- הודעה מותאמת אישית
- תמונת הפרס

### טקסט נגלל
- **טקסט**: עד 300 תווים
- **גודל גופן**: 16-64 פיקסלים
- **הסתרה**: השאר ריק כדי להסתיר
- **צבע**: שחור + טקסט לבן

### שליטה מרחוק
1. **הפעלת שלט**: סמן "משחק ידני עם שלט מרחוק"
2. **QR Code**: מוצג בפינה השמאלית העליונה
3. **שחקנים**: מצטרפים דרך סריקת QR
4. **תור**: רשימת ממתינים + שחקן פעיל
5. **טיימר**: 30 שניות לכל שחקן
6. **דילוג**: לחץ על שם השחקן לדילוג

### קיצורי מקלדת
- **S** - פתיחת הגדרות
- **G/D** - חזרה למשחק (מלוח זוכים)
- **Enter** - אישור במודלים

---

## 🏠 דשבורד ניהול (dashboard.html)

### התחברות
- **Google Sign-In**: התחבר עם חשבון Google
- **הרשאות**: Super Admin או Event Manager
- **ניהול אוטומטי**: יצירת משתמש אוטומטי בפעם הראשונה

### ניהול אירועים

#### יצירת אירוע חדש
1. לחץ "אירוע חדש +"
2. מלא פרטים:
   - שם אירוע (חובה)
   - מיקום (רשות)
   - תאריך
   - תיאור
3. שמור → האירוע מתווסף לרשימה

#### עריכת אירוע
1. לחץ "ערוך" על כרטיס האירוע
2. שנה פרטים
3. שמור

#### מחיקת אירוע (בלתי הפיכה!)
1. לחץ "מחק"
2. הקלד "מחיקה" בדיוק
3. אישור → **כל הנתונים נמחקים**

#### פתיחת משחק
1. לחץ "פתח משחק"
2. דף המשחק נפתח עם הגדרות האירוע
3. הגדר פרסים → התחל משחק

### סטטיסטיקות (Admin בלבד)
- **סך המשתמשים**: מספר משתמשים במערכת
- **סך האירועים**: מספר אירועים כולל
- **סך הזוכים**: מספר זוכים בכל המערכת
- **אירועים פעילים**: מספר אירועים פתוחים

### ניהול משתמשים (Admin בלבד)
- רשימת כל המשתמשים
- חיפוש משתמשים
- העברת בעלות אירוע
- צפייה בפרטי משתמש

### סינונים
- **חיפוש**: חפש אירוע לפי שם
- **בעלות** (Admin): כל האירועים / שלי בלבד
- **סטטוס**: כל האירועים / פעילים / סגורים

---

## 🎮 שליטה מרחוק (controller.html)

### תהליך שחקן

#### 1. מסך חיבור
- סרוק QR Code
- הכנס שם (מינימום 2 תווים)
- לחץ "התחבר"

#### 2. מסך המתנה
- ספינר טעינה
- "שלום [שם]"
- מיקום בתור: "אתם מספר X בתור"

#### 3. מסך משחק פעיל
- **Pull Bar**: משוך למטה ושחרר
- בר התקדמות בזמן גרירה
- הוראות ברורות
- מונה ניסיונות שנותרו

#### 4. מסך לחיצה
- וודי ✓
- "הופעלה ההגרלה"
- אנימציה ממתינה (...)
- "נא להמתין לסיום"

#### 5. מסך תוצאה - זכייה 🎉
- "כל הכבוד! זכיתם"
- תמונת הפרס + שם
- כפתור WhatsApp (אם מוגדר)
- כפתור "המשך" לניסיון הבא

#### 6. מסך תוצאה - הפסד 😔
- "לא נורא נסו שוב"
- "זה לא היה הפעם, אבל עוד יש סיכוי!"
- כפתור "המשך"

#### 7. מסך Timeout ⏰
- "הזמן נגמר"
- הנחיה לסרוק שוב

#### 8. מסך סיום 🎉
- "תודה שהשתתפתם!"
- הנחיה לסרוק שוב

### תכונות מיוחדות
- **WhatsApp Share**: שליחת תמונת זכייה
- **Responsive**: תואם לכל גודל מסך
- **אנימציות**: מעברים חלקים בין מסכים
- **Real-time**: עדכונים בזמן אמת מהשרת

---

## 🏆 לוח זוכים (scoreboard.html)

### תצוגת זוכים
- **רשימה מסודרת**: דירוג 1, 2, 3...
- **פרטי זוכה**:
  - שם השחקן
  - תמונת הפרס
  - שם הפרס
  - זמן זכייה (תאריך ושעה)
- **אנימציות**: slide-in לכל זוכה
- **טרופאים**: 🥇 🥈 🥉 לשלושת הראשונים

### סטטיסטיקות כלליות
- **סך הכל זוכים**: מספר כולל
- **זוכים היום**: זוכים מתאריך היום
- **הפרס הפופולרי**: הפרס שחולק הכי הרבה

### סטטיסטיקות פרסים
לכל פרס:
- תמונה/סמל
- שם הפרס
- סה"כ זמין
- כמה חולק
- כמה נותר
- סרגל התקדמות:
  - 🟢 ירוק = מלאי גבוה (>70%)
  - 🟠 כתום = מלאי בינוני (30-70%)
  - 🔴 אדום = מלאי נמוך (<30%)
  - 🟢 ירוק בהיר = מלאי בלתי מוגבל ♾️

### כפתורים
- **חזרה למשחק**: חזרה ל-index.html
- **רענן**: עדכון נתונים
- **אפס לוח**: מחיקת כל הזוכים (בלתי הפיך)

### Responsive
- תואם למחשב, טאבלט וטלפון
- התאמה אוטומטית לגודל מסך
- רשת מתאימה (1-4 עמודות)

---

## 🚀 שימוש מהיר

### למפיק אירועים (Event Manager)

#### הקמת אירוע חדש
```
1. dashboard.html → התחבר עם Google
2. "אירוע חדש +" → מלא פרטים → שמור
3. "פתח משחק" → index.html נפתח
4. לחץ S → הגדרות
5. הגדר פרסים:
   - העלה 2-20 תמונות
   - הגדר מלאי לכל פרס
   - שם לכל פרס
6. הגדר משחק:
   - תדירות זכיות
   - בונוס רנדומלי
   - מספר ניסיונות
7. סמן "משחק ידני עם שלט מרחוק"
8. שמור הגדרות
9. הצג QR Code לאורחים
10. scoreboard.html → לוח זוכים בזמן אמת
```

#### במהלך האירוע
```
1. שחקנים סורקים QR
2. נכנסים לתור המתנה
3. כל שחקן מקבל 30 שניות
4. משוך Pull Bar → סיבוב
5. תוצאה מוצגת בטלפון
6. לוח זוכים מתעדכן אוטומטית
```

### למנהל ראשי (Super Admin)

כל מה שמפיק יכול +
```
- ניהול משתמשים
- צפייה בכל האירועים (לא רק שלי)
- סטטיסטיקות מערכת
- העברת בעלות אירועים
- חיפוש משתמשים
```

### טיפים מהירים
- **מלאי נגמר**: עבור למלאי בלתי מוגבל (♾️)
- **שחקן תקוע**: לחץ על שם השחקן לדילוג
- **שינוי צבע רקע**: בהגדרות → בחר צבע → שמור
- **כיבוי טקסט נגלל**: השאר שדה ריק
- **איפוס מונה פרסים**: בהגדרות → אפס מונה

---

## 🔐 אבטחה והרשאות

### Super Admin
- ✅ כל האירועים (צפייה ועריכה)
- ✅ ניהול משתמשים
- ✅ סטטיסטיקות מערכת
- ✅ העברת בעלות אירועים

### Event Manager
- ✅ האירועים שלי בלבד
- ✅ הגדרת פרסים
- ✅ לוח זוכים של האירוע שלי
- ❌ אירועים של אחרים
- ❌ ניהול משתמשים

### הגדרת Super Admin
```
1. התחבר לדשבורד בפעם הראשונה
2. Firebase Console → Realtime Database
3. users → {uid} → role
4. שנה ל-"super_admin"
5. רענן דשבורד
```

---

## 📱 תאימות

### נתמך
- ✅ Chrome (מומלץ)
- ✅ Firefox
- ✅ Safari
- ✅ Edge
- ✅ טאבלט
- ✅ טלפון (controller בלבד)

### לא נתמך
- ❌ IE11
- ❌ דפדפנים ישנים

### המלצות
- **משחק ראשי**: מסך מלא, 16:9, דסקטופ
- **שליטה מרחוק**: כל מכשיר
- **לוח זוכים**: מסך גדול מומלץ
- **דשבורד**: דסקטופ/טאבלט

---

## 🐛 פתרון בעיות נפוצות

### QR Code לא עובד
- ✅ בדוק שהמשחק במצב "ידני"
- ✅ ודא שיש חיבור אינטרנט
- ✅ נסה לרענן את הדף

### שחקן תקוע בתור
- ✅ לחץ על שם השחקן → דילוג
- ✅ רענן את דף ה-controller
- ✅ סרוק QR מחדש

### פרס לא מוצג
- ✅ בדוק שהתמונה נטענה (JPG/PNG)
- ✅ בדוק שהמלאי לא 0
- ✅ רענן את הדף

### הגדרות לא נשמרות
- ✅ התחבר לדשבורד
- ✅ פתח משחק דרך הדשבורד
- ✅ בדוק חיבור Firebase

### לוח זוכים ריק
- ✅ בדוק שיש זוכים
- ✅ בדוק URL (session parameter)
- ✅ רענן את הדף

---

## 📞 תמיכה

**Email:** admin@playzone.co.il
**Website:** https://playzone.co.il
**Firebase Project:** slotm-c0090
**GitHub:** https://github.com/Ranidpz/777slotm

---

## 📄 רישיון

© 2025 Playzone. All rights reserved.

---

**Built with ❤️ by Claude & Playzone Team**

*גרסה 2.1 | עדכון אחרון: 2025-01-17*
